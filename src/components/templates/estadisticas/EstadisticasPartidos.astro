---
import { publicRoutesMap } from "@consts/routes";
import type { AnalyzedDataTable } from "@interfaces/analyzedData.interface";
import DetailsIcon from "@assets/details_icon.svg";

interface Props {
  data: AnalyzedDataTable[];
}

const { data: analyzedData } = Astro.props;
const detailsRoute = publicRoutesMap.PLAYER_DETAIL;
---

<table class="min-w-full bg-white border border-gray-200 rounded-lg shadow">
  <thead class="bg-gray-100">
    <tr>
      <th class="px-4 py-2 text-left">Jugador</th>
      <th class="px-4 py-2 text-left">N° Camiseta</th>
      <th class="px-4 py-2 text-left">Torneo</th>
      <th class="px-4 py-2 text-left">Resultado</th>
      <th class="px-4 py-2 text-left">Fecha de Partido</th>
      <th class="px-4 py-2 text-left">Fecha de Análisis</th>
      <th class="px-4 py-2 text-left">Acciones</th>
    </tr>
  </thead>
  <tbody id="table-body">
    {
      analyzedData.map((data) => (
        <tr
          data-id={data.id}
          data-match={data.match_id}
          data-player={data.player_id}
        >
          <td class="px-4 py-2 name">{data.player_name}</td>
          <td class="px-4 py-2">{data.shirt_number}</td>
          <td class="px-4 py-2 tournament">{data.tournament_name}</td>
          <td class="px-4 py-2 score">{data.score}</td>
          <td class="px-4 py-2 matchdate">{data.match_date}</td>
          <td class="px-4 py-2">{data.analysis_date}</td>
          <td class="px-4 py-2">
            <a href={`${detailsRoute}/${data.id}`}>
              <img src={DetailsIcon.src} alt="detalles" class="size-8" />
            </a>
          </td>
        </tr>
      ))
    }
  </tbody>
</table>
