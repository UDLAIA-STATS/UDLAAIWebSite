---
import AdminPanelLayout from "@layouts/AdminPanelLayout.astro";
import NotAuthorized from "@components/shared/NotAuthorized.astro";
import PartidosProfesorView from "@views/profesor/partidos_profesor_view";
import { roles } from "@consts/roles";
import type { User } from "@interfaces/user.interface";

const user: User = {
  nombre_usuario: "Juan Perez",
  rol: "profesor",
  email_usuario: "juan.perez@example.com"
};
// Astro.cookies.get("user")
//   ? (JSON.parse(Astro.cookies.get("user")?.value as string) as LoggedUser)
//   : null;
const { super: superRole } = roles;
---

<AdminPanelLayout title="GestiÃ³n de Torneos y Partidos">
  <section
    class="self-center my-5 h-svh"
  >
    {
      user ? (
        <PartidosProfesorView user={user} client:load />
      ) : (
        <div class="md:w-svw lg:w-shw w-shw flex flex-wrap justify-self-start flex-col">
          <NotAuthorized />
        </div>
      )
    }
  </section>
</AdminPanelLayout>
