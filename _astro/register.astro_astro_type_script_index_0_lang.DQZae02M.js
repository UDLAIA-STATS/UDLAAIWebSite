import{a as c}from"./_astro_actions.CGSrGoxz.js";import{S as e}from"./sweetalert2.esm.all.NNS-RXd7.js";const o=document.querySelector("form"),t=o.querySelector("button[type='submit']");o?.addEventListener("submit",async n=>{n.preventDefault(),t.setAttribute("disabled","disabled");const{value:u}=await e.fire({title:"Ingrese su contrase침a",input:"password",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Aceptar",cancelButtonText:"Cancelar",showLoaderOnConfirm:!0,preConfirm:async s=>{if(!s){e.showValidationMessage("La contrase침a es requerida"),t.removeAttribute("disabled");return}return s}}),i=new FormData(o);i.append("userCredential",u);const{data:a,error:r}=await c.registerUser(i);if(r){if(console.error("Error:",r.message),r.message.toString().includes("validation")){e.fire({icon:"error",title:"Error al registrar el usuario",text:"Uno de los campos no es v치lido. Por favor, verifica e intenta nuevamente."}),t.removeAttribute("disabled");return}e.fire({icon:"error",title:"Error al registrar el usuario",text:r.message}),t.removeAttribute("disabled");return}a&&(console.log("Success:",a),e.fire({icon:"success",title:"Registro de usuario exitoso",text:"Por favor, inicia sesi칩n."})),t.removeAttribute("disabled"),o.reset()});
